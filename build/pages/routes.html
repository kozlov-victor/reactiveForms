<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>RunCode</title>
    <script src="../reactiveForms.js"></script>
</head>
<body>

    
<div style="display: none;">

    <div id="page1Tmpl">
        Введите имя <input data-model="user.firstName">
        <div>
            <button data-click="toPage2()">Далее</button>
        </div>
    </div>

    <div id="page2Tmpl">
        {{user.firstName}}, Введите фамилию <input data-model="user.lastName">
        <div>
            <button data-click="toPage1()">Назад</button>
            <button data-click="toPage3()">Далее</button>
        </div>
    </div>

    <div id="page3Tmpl">
        Привет, {{user.firstName}} {{user.lastName}}
        <br/>
        Уровень кармы <input data-model="user.carmaLevel">
        <div>
            <button data-click="toPage2()">Назад</button>
        </div>
    </div>

</div>


<div data-route=""></div>

    <script>
        
var user = {
    firstName:'',
    lastName:'',
    carmaLevel:42
};

var page1 = RF.registerComponent('page1',{
    template: {
        type: 'dom',
        value: 'page1Tmpl'
    },
    toPage2: function(){
        RF.Router.navigateTo('page2');
    },
    external: {
        user: user
    }
});

var page2 = RF.registerComponent('page2',{
    template: {
        type: 'dom',
        value: 'page2Tmpl'
    },
    toPage1: function(){
        RF.Router.navigateTo('page1');
    },
    toPage3: function(){
        RF.Router.navigateTo('page3');
    },
    external: {
       user: user
    }
});

var page3 = RF.registerComponent('page3',{
    template: {
        type: 'dom',
        value: 'page3Tmpl'
    },
    toPage2: function(){
        RF.Router.navigateTo('page2');
    },
    external: {
        user: user
    }
});

RF.Router.setup({
    'page1': page1,
    'page2': page2,
    'page3': page3,
});
RF.Router.navigateTo('page1');

    </script>
</body>
</html>