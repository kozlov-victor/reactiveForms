<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>RunCode</title>
    <style>
        
button, input[type=text] {
    display: block;
    margin: 0 auto 3px;
    width: 80%;
    background-color: #00dcff;
    border: none;
    padding: 3px;
}

button.inline-block {
    display: inline-block;
    width: auto;
}

button {
    color: white;
}

button:active,input:active {
    outline: 1px solid blue;
}
    </style>
    <script src="../reactiveForms.js"></script>
</head>
<body>

    
<div style="display: none;">

    <div id="page1Tmpl">
        Введите имя <input data-model="app.user.firstName">
        <div>
            <button data-click="app.navigateTo(2)">Далее</button>
        </div>
    </div>

    <div id="page2Tmpl">
        {{app.user.firstName}}, Введите фамилию <br/><input data-model="app.user.lastName">
        <div>
            уровень кармы <br/><input data-model="app.user.carmaLevel">
        </div>
        <div>
            <button data-click="app.goBack()">Назад</button>
            <button data-click="app.navigateTo(3)">Далее</button>
        </div>
    </div>

    <div id="page3Tmpl">
        Привет, {{app.user.firstName}} {{app.user.lastName}}
        <br/>
        Уровень кармы {{app.user.carmaLevel}}
        <div>
            <button data-click="app.goBack()">Назад</button>
        </div>
    </div>

</div>


<div data-route=""></div>

    <script>
        

var app = {
    user: {
        firstName:'',
        lastName:'',
        carmaLevel:42
    },
    navigateTo: function(index){
        RF.Router.navigateTo('page'+index);
    },
    goBack: function(){
        RF.Router.goBack();
    }
};

var page1 = RF.registerComponent('page1',{
    template: {
        type: 'dom',
        value: 'page1Tmpl'
    },
    external: {
        app: app
    }
});

var page2 = RF.registerComponent('page2',{
    template: {
        type: 'dom',
        value: 'page2Tmpl'
    },
    external: {
        app: app
    }
});

var page3 = RF.registerComponent('page3',{
    template: {
        type: 'dom',
        value: 'page3Tmpl'
    },
    external: {
        app: app
    }
});

RF.Router.setup({
    'page1': page1,
    'page2': page2,
    'page3': page3
});
RF.Router.navigateTo('page1');

    </script>
</body>
</html>