

<style>
    .withPadding {
        padding: 10px;
    }
    .fullscreen {
        position: fixed;
        left:0;top:0;right:0;bottom:0;
        z-index: 100;
    }
    .shadow {
        background-color: rgba(0,0,0,0.3);
    }
    .dialogWrapper {
        display: table;
        width: 100%;
        position: fixed;
        left:0;top:0;right:0;bottom:0;
        height: 100%;
        text-align: center;
        z-index:200;
    }
    .dialog {
        display: table-cell;
        vertical-align: middle;
        position: relative;
        width: 100%;
    }
    .dialogContent {
        display: inline-block;
        position: relative;
        background-color: #f8f8f8;
        max-height: 90vh;
        overflow-x: hidden;
        overflow-y: auto;
        z-index: 300;
    }
    .dialogClose {
        text-align: right;
        background-color: #bdbdbd;
        border-bottom: 1px solid #767676;
        font-family: monospace;
        font-size: 22px;
        padding: 5px;
        color: #5f6e6f;
    }
</style>

<script>
    // ie8 hack
    document.createElement('popup-dialog');
</script>

<div style="display: none;">
    <div id="popupTmpl">
        <div class="dialogWrapper" data-if="opened">
            <div class="fullscreen shadow"></div>
            <div class="dialog">
                <div class="dialogContent">
                    <div class="dialogClose">
                        <span data-transclusion="title">
                            this title will be replaced
                        </span>
                        <span data-click="close()" class="pointer">X</span>
                    </div>
                    <div class="withPadding" data-transclusion="content">
                        this content will be replaced
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/tmpl" id="app">

        <button data-click="openDialog('dialog1')">open dialog 1</button>
        <button data-click="openDialog('dialog2')">open dialog 2</button>

        <div>
            dialog1Title: {{dialog1Title}}
            <br/>
            dialog1Content: {{dialog1Content}}
            <br/>
            dialog2Title: {{dialog2Title}}
            <br/>
            dialog2Content: {{dialog2Content}}
            <br/>
        </div>

        <button data-click="changeDialogData()">changeDialogData()</button>

        <popup-dialog id="dialog1">
            <div data-transclusion="title">
                {{dialog1Title}}
            </div>
            <div data-transclusion="content">
                {{dialog1Content}}
            </div>
        </popup-dialog>

        <popup-dialog id="dialog2">
            <div data-transclusion="title">
                {{dialog2Title}}
            </div>
            <div data-transclusion="content">
                {{dialog2Content}}
                <span data-for="w,index in openedArr">
                    <span class="ru">{{w}}</span>
                </span>
            </div>
        </popup-dialog>

    </script>



</div>



<div data-route></div>



